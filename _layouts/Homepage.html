<!DOCTYPE html>
<html lang="en">

<head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="{{ site.title | default: site.heading }}" property="og:site_name" />
    <meta content="{{ site.description | default: 'A Jekyll Garden site' }}" property="og:description">
    <meta content="{{ site.url }}/about/" property="article:author">
    {%- if site.og_image -%}
    <meta property="og:image" content="{{ site.baseurl }}{{ site.og_image }}">
    {%- endif -%}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    {%- if page.title -%}
    <meta content="{{ page.title }}" property="og:title">
    <meta content="article" property="og:type">
    <meta content="{{ site.url }}{{ page.url }}" property="og:url">
    {%- else -%}
    <meta content="website" property="og:type">
    <meta content="{{ site.url }}{{ page.url }}" property="og:url">
    {%- endif -%}

    <title>{%- if page.title -%}{{ page.title }} - {%- endif -%}{{ site.heading }}</title>
    <link rel="canonical" href="{{site.url}}{{page.url}}" />
    {%- if site.apple_touch_icon -%}
    <link rel="apple-touch-icon" href="{{ site.baseurl }}{{ site.apple_touch_icon }}">
    {%- endif -%}
    {%- if site.favicon -%}
    <link rel="icon" href="{{ site.baseurl }}{{ site.favicon }}" type="image/svg+xml" sizes="any" />
    {%- endif -%}
    {%- if site.css_file -%}
    <link href="{{ site.baseurl }}{{ site.css_file }}" rel="stylesheet" media="all" class="default" />
    {%- else -%}
    <link href="{{ site.baseurl }}/assets/css/style.css" rel="stylesheet" media="all" class="default" />
    {%- endif -%}
    {%- if site.katex -%}
    <link href="{{ site.baseurl }}/assets/css/vendor/Katex.css" rel="stylesheet" media="all" class="default" />
    {%- endif -%}

    <!--[if IE]>
        {%- if site.ie_css -%}
        <link href="{{ site.baseurl }}{{ site.ie_css }}" rel="stylesheet" type="text/css"/>
        {%- else -%}
        <link href="{{ site.baseurl }}/assets/css/ie-target.css" rel="stylesheet" type="text/css"/>
        {%- endif -%}
    <![endif]-->
    <!--<link href="/assets/css/prism.css" rel="stylesheet" />-->
    <link rel="alternate" type="application/rss+xml" href="{{ site.url }}/feed.xml">
</head>

<body class="homepage">
  <header class="site-header">
    {% include Nav.html %}
  </header>

  <main class="wrapper">

    <!-- HERO -->
    <section id="hero" class="hero-block">
      <h1 class="hero-name">{{ site.heading }}</h1>
      {% comment %} Optionally surface availability or tagline from site config {% endcomment %}
      {% if site.about.tagline %}
        <p class="hero-tagline">{{ site.about.tagline }}</p>
      {% endif %}
      {% if site.about.available %}
        <p class="hero-availability">Available: {{ site.about.available }}</p>
      {% endif %}

      <div class="hero-cta">
        {% if site.about.resume_url %}
          <a class="btn btn-primary" href="{{ site.about.resume_url | relative_url }}" target="_blank" rel="noopener">Download Resume (PDF)</a>
        {% endif %}
        {% if site.about.email %}
          <a class="btn" href="mailto:{{ site.about.email }}">Email</a>
        {% endif %}
        {% if site.about.linkedin %}
          <a class="btn" href="{{ site.about.linkedin }}" target="_blank" rel="noopener">LinkedIn</a>
        {% endif %}
        {% if site.about.github %}
          <a class="btn" href="{{ site.about.github }}" target="_blank" rel="noopener">GitHub</a>
        {% endif %}
      </div>
    </section>

    <!-- ABOUT SUMMARY FROM PAGE CONTENT -->
    {% if content %}
    <section id="about" class="about-block">
      {{ content }}
    </section>
    {% endif %}

    <!-- FEATURED PROJECTS -->
    {% assign featured = site.data.projects | where_exp:'p','p.featured != false' %}
    {% if featured and featured.size > 0 %}
    <section id="projects" class="projects-block">
      <h2>Featured Projects</h2>
      <div class="projects-grid">
        {% for p in featured %}
        <article class="project-card">
          <h3><a href="{{ p.url | relative_url }}">{{ p.title }}</a></h3>
          {% if p.blurb %}<p>{{ p.blurb }}</p>{% endif %}
          {% if p.tech %}
            <ul class="project-tech">
              {% for t in p.tech %}<li>{{ t }}</li>{% endfor %}
            </ul>
          {% endif %}
          {% if p.repo %}
            <p class="project-links"><a href="{{ p.repo }}" target="_blank" rel="noopener">Code</a></p>
          {% endif %}
        </article>
        {% endfor %}
      </div>
    </section>
    {% endif %}

    <!-- LATEST NOTES -->
    {% if site.notes %}
    {% assign note_items = site.notes | sort: 'date' | reverse | slice: 0,5 %}
    <section id="latest-notes" class="notes-block">
      <h2>Latest Notes</h2>
      <ul>
        {% for n in note_items %}
          {% if n.feed == "show" %}
          <li>
            <a href="{{ n.url | relative_url }}">{{ n.title }}</a>
            {% if n.date %}<span class="note-date">{{ n.date | date: "%b %-d, %Y" }}</span>{% endif %}
          </li>
          {% endif %}
        {% endfor %}
      </ul>
      <p><a href="{{ '/notes' | relative_url }}">View all notes →</a></p>
    </section>
    {% endif %}

    <!-- LATEST BLOG POSTS -->
    {% if site.posts %}
    {% assign posts_latest = site.posts | sort: 'date' | reverse | slice: 0,3 %}
    <section id="latest-posts" class="posts-block">
      <h2>Latest Posts</h2>
      <ul>
        {% for p in posts_latest %}
          {% if p.feed == "show" %}
          <li>
            <a href="{{ p.url | relative_url }}">{{ p.title }}</a>
            {% if p.date %}<span class="post-date">{{ p.date | date: "%b %-d, %Y" }}</span>{% endif %}
          </li>
          {% endif %}
        {% endfor %}
      </ul>
      <p><a href="{{ '/blog' | relative_url }}">View all posts →</a></p>
    </section>
    {% endif %}

  </main>

  <footer class="site-footer">
    {% include Footer.html %}
  </footer>
</body>
</html>